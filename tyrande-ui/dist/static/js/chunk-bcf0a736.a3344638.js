(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bcf0a736"],{"4db5":function(e,t,r){"use strict";var a=r("8c8d"),o=r.n(a);o.a},"8c8d":function(e,t,r){},a7ce:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",[r("el-form",{staticClass:"app-container-searchForm",attrs:{inline:!0,model:e.searchForm}},[r("el-form-item",{attrs:{label:"登录账户"}},[r("el-input",{attrs:{placeholder:"登录账户"},model:{value:e.searchForm.loginCode,callback:function(t){e.$set(e.searchForm,"loginCode",t)},expression:"searchForm.loginCode"}})],1),r("el-form-item",{attrs:{label:"用户名称"}},[r("el-input",{attrs:{placeholder:"用户名称"},model:{value:e.searchForm.userName,callback:function(t){e.$set(e.searchForm,"userName",t)},expression:"searchForm.userName"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getPageList}},[e._v(" "+e._s(e.defaultSettings.btnSearch)+" ")])],1)],1)],1),r("el-card",[r("el-row",{staticClass:"app-container-toolbar"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){e.visibleConfig.add=!0}}},[e._v(e._s(e.defaultSettings.btnAdd)+" ")]),r("el-button",{attrs:{type:"warning",icon:"el-icon-attract"},on:{click:e.doConfigRole}},[e._v("角色配置 ")])],1),r("el-table",{attrs:{border:"",data:e.gridData.list,"highlight-current-row":""},on:{"current-change":e.doCurrentChange}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),r("el-table-column",{attrs:{prop:"loginCode",label:"登陆账户"}}),r("el-table-column",{attrs:{prop:"userName",label:"用户名称"}}),r("el-table-column",{attrs:{prop:"sex",label:"性别",formatter:e.formatSex}}),r("el-table-column",{attrs:{prop:"age",label:"年龄"}}),r("el-table-column",{attrs:{prop:"avatar",label:"头像",width:"70"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("el-avatar",{attrs:{shape:"square",size:30,src:e.row.avatar}})]}}])}),r("el-table-column",{attrs:{prop:"address",label:"地址"}}),r("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"160"}}),r("el-table-column",{attrs:{prop:"validEmail",label:"邮箱验证",formatter:e.formatIsOrNot}}),r("el-table-column",{attrs:{prop:"tel",label:"电话"}}),r("el-table-column",{attrs:{prop:"validTel",label:"电话验证",formatter:e.formatIsOrNot}}),r("el-table-column",{attrs:{prop:"status",label:"用户状态",formatter:e.formatUserStatus}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",icon:"el-icon-view",size:"small"},on:{click:function(r){return e.doView(t.row)}}},[e._v(" "+e._s(e.defaultSettings.btnView)+" ")]),r("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"small"},on:{click:function(r){return e.doEdit(t.row.id)}}},[e._v(" "+e._s(e.defaultSettings.btnEdit)+" ")]),r("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},on:{click:function(r){return e.doDelete(t.row.id)}}},[e._v(e._s(e.defaultSettings.btnDelete)+" ")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.searchForm.current,layout:e.defaultSettings.page,total:e.gridData.total},on:{"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:e.defaultSettings.btnView,visible:e.visibleConfig.view,width:"50%"},on:{"update:visible":function(t){return e.$set(e.visibleConfig,"view",t)}}},[r("span",[r("el-form",{attrs:{model:e.viewForm,"label-width":"120px",disabled:""}},[r("el-form-item",{attrs:{label:"登陆账户",prop:"loginCode"}},[r("el-input",{model:{value:e.viewForm.loginCode,callback:function(t){e.$set(e.viewForm,"loginCode",t)},expression:"viewForm.loginCode"}})],1),r("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[r("el-input",{model:{value:e.viewForm.userName,callback:function(t){e.$set(e.viewForm,"userName",t)},expression:"viewForm.userName"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{model:{value:e.viewForm.sex,callback:function(t){e.$set(e.viewForm,"sex",t)},expression:"viewForm.sex"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.sex}})],1)],1),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input-number",{attrs:{min:0,max:150},model:{value:e.viewForm.age,callback:function(t){e.$set(e.viewForm,"age",t)},expression:"viewForm.age"}})],1),r("el-form-item",{attrs:{label:"地址",prop:"address"}},[r("el-input",{model:{value:e.viewForm.address,callback:function(t){e.$set(e.viewForm,"address",t)},expression:"viewForm.address"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.viewForm.email,callback:function(t){e.$set(e.viewForm,"email",t)},expression:"viewForm.email"}})],1),r("el-form-item",{attrs:{label:"邮箱验证",prop:"validEmail"}},[r("el-select",{model:{value:e.viewForm.validEmail,callback:function(t){e.$set(e.viewForm,"validEmail",t)},expression:"viewForm.validEmail"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.isOrNot}})],1)],1),r("el-form-item",{attrs:{label:"电话",prop:"tel"}},[r("el-input",{model:{value:e.viewForm.tel,callback:function(t){e.$set(e.viewForm,"tel",t)},expression:"viewForm.tel"}})],1),r("el-form-item",{attrs:{label:"电话验证",prop:"validTel"}},[r("el-select",{model:{value:e.viewForm.validTel,callback:function(t){e.$set(e.viewForm,"validTel",t)},expression:"viewForm.validTel"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.isOrNot}})],1)],1),r("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[r("el-select",{model:{value:e.viewForm.status,callback:function(t){e.$set(e.viewForm,"status",t)},expression:"viewForm.status"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.userStatus}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visibleConfig.view=!1}}},[e._v(e._s(e.defaultSettings.closeButtonText))])],1)]),r("el-dialog",{attrs:{title:e.defaultSettings.btnAdd,visible:e.visibleConfig.add,width:"50%"},on:{"update:visible":function(t){return e.$set(e.visibleConfig,"add",t)},close:e.doAddClose}},[r("span",[r("el-form",{ref:"addFormRef",attrs:{model:e.addForm,rules:e.checkRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"登陆账户",prop:"loginCode"}},[r("el-input",{model:{value:e.addForm.loginCode,callback:function(t){e.$set(e.addForm,"loginCode",t)},expression:"addForm.loginCode"}})],1),r("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[r("el-input",{model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.sex}})],1)],1),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input-number",{attrs:{min:0,max:150},model:{value:e.addForm.age,callback:function(t){e.$set(e.addForm,"age",t)},expression:"addForm.age"}})],1),r("el-form-item",{attrs:{label:"地址",prop:"address"}},[r("el-input",{model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"tel"}},[r("el-input",{model:{value:e.addForm.tel,callback:function(t){e.$set(e.addForm,"tel",t)},expression:"addForm.tel"}})],1),r("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.userStatus}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visibleConfig.add=!1}}},[e._v(e._s(e.defaultSettings.cancelButtonText))]),r("el-button",{attrs:{type:"primary"},on:{click:e.doAddSave}},[e._v(e._s(e.defaultSettings.confirmButtonText))])],1)]),r("el-dialog",{attrs:{title:e.defaultSettings.btnEdit,visible:e.visibleConfig.edit,width:"50%"},on:{"update:visible":function(t){return e.$set(e.visibleConfig,"edit",t)},close:e.doEditClose}},[r("span",[r("el-form",{ref:"editFormRef",attrs:{model:e.editForm,rules:e.checkRules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"登陆账户",prop:"loginCode"}},[r("el-input",{model:{value:e.editForm.loginCode,callback:function(t){e.$set(e.editForm,"loginCode",t)},expression:"editForm.loginCode"}})],1),r("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[r("el-input",{model:{value:e.editForm.userName,callback:function(t){e.$set(e.editForm,"userName",t)},expression:"editForm.userName"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.sex}})],1)],1),r("el-form-item",{attrs:{label:"年龄",prop:"age"}},[r("el-input",{model:{value:e.editForm.age,callback:function(t){e.$set(e.editForm,"age",t)},expression:"editForm.age"}})],1),r("el-form-item",{attrs:{label:"地址",prop:"address"}},[r("el-input",{model:{value:e.editForm.address,callback:function(t){e.$set(e.editForm,"address",t)},expression:"editForm.address"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"tel"}},[r("el-input",{model:{value:e.editForm.tel,callback:function(t){e.$set(e.editForm,"tel",t)},expression:"editForm.tel"}})],1),r("el-form-item",{attrs:{label:"用户状态",prop:"status"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},[r("option-dict",{attrs:{dict:e.defaultSettings.dict.userStatus}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visibleConfig.edit=!1}}},[e._v(e._s(e.defaultSettings.cancelButtonText))]),r("el-button",{attrs:{type:"primary"},on:{click:e.doEditSave}},[e._v(e._s(e.defaultSettings.confirmButtonText))])],1)]),r("el-dialog",{attrs:{title:"角色设置",visible:e.visibleConfig.roleConfig,width:"50%"},on:{"update:visible":function(t){return e.$set(e.visibleConfig,"roleConfig",t)},close:e.doRoleConfigClose}},[r("span",[r("el-form",{ref:"configFormRef",attrs:{model:e.configForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"用户名称"}},[r("el-input",{attrs:{disabled:""},model:{value:e.configForm.userName,callback:function(t){e.$set(e.configForm,"userName",t)},expression:"configForm.userName"}})],1),r("el-form-item",{attrs:{label:"角色"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.configForm.roles,callback:function(t){e.$set(e.configForm,"roles",t)},expression:"configForm.roles"}},e._l(e.configInitData.roleList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.roleName,value:e.id}})})),1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.visibleConfig.roleConfig=!1}}},[e._v(e._s(e.defaultSettings.cancelButtonText))]),r("el-button",{attrs:{type:"primary"},on:{click:e.doConfigSave}},[e._v(e._s(e.defaultSettings.confirmButtonText))])],1)])],1)},o=[],i=(r("96cf"),r("1da1")),s=r("83d6"),l=r.n(s),n=r("b775"),c=r("4328"),d=r.n(c);function u(e){return n["a"].get("/sysuser/listPage",{params:e})}function m(e){return n["a"].delete("/sysuser/delete?id="+e)}function f(e){return n["a"].post("/sysuser/save",d.a.stringify(e))}function p(e){return n["a"].put("/sysuser/update",d.a.stringify(e))}function g(e){return n["a"].get("/sysuser/getById",{params:{id:e}})}function b(e){return n["a"].get("/sysuser/getUserRoleInfo",{params:{id:e}})}function v(e){return n["a"].post("/sysuser/doConfigSave",d.a.stringify(e))}var F={name:"SysUser",data:function(){return{defaultSettings:l.a,searchForm:{current:1},gridData:{list:[],total:0},visibleConfig:{add:!1,edit:!1,view:!1,roleConfig:!1},checkRules:{loginCode:[{required:!0,message:"请输入登陆账户",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名称",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],status:[{required:!0,message:"请输入用户状态",trigger:"blur"}]},viewForm:{},addForm:{},editForm:{},configForm:{id:"",userName:"",roles:[]},currentRow:null,configInitData:{roleList:[]}}},created:function(){this.$getDict(l.a.dict.sex),this.$getDict(l.a.dict.userStatus),this.$getDict(l.a.dict.isOrNot),this.getPageList()},methods:{getPageList:function(){var e=this;u(this.searchForm).then((function(t){var r=t.data,a=r.records,o=r.total;e.gridData.list=a,e.gridData.total=o})).catch((function(){e.$message.error(l.a.failureSearch)}))},handleCurrentChange:function(e){this.searchForm.current=e,this.getPageList()},doView:function(e){this.visibleConfig.view=!0,this.viewForm=e,this.viewForm.sex=e.sex+"",this.viewForm.validTel=e.validTel+"",this.viewForm.validEmail=e.validEmail+"",this.viewForm.status=e.status+""},doDelete:function(e){var t=this,r=e;this.$confirm(l.a.deleteText,l.a.typeInfoText,{confirmButtonText:l.a.confirmButtonText,cancelButtonText:l.a.cancelButtonText,type:l.a.typeWarning}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:m(r).then((function(){t.$message.success(l.a.successDelete)})),t.getPageList();case 2:case"end":return e.stop()}}),e)}))))},doAddSave:function(){var e=this;this.$refs.addFormRef.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f(e.addForm);case 4:e.$message.success(l.a.successAdd),e.visibleConfig.add=!1,e.getPageList();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},doAddClose:function(){this.$refs.addFormRef.resetFields()},doEdit:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,g(e);case 2:a=r.sent,t.editForm=a.data,t.editForm.sex=a.data.sex+"",t.editForm.status=a.data.status+"",t.visibleConfig.edit=!0;case 7:case"end":return r.stop()}}),r)})))()},doEditSave:function(){var e=this;this.$refs.editFormRef.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,p(e.editForm);case 4:e.$message.success(l.a.successEdit),e.visibleConfig.edit=!1,e.getPageList();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},doEditClose:function(){this.$refs.editFormRef.resetFields()},formatSex:function(e,t,r){return this.$formatDict(r,l.a.dict.sex)},formatIsOrNot:function(e,t,r){return this.$formatDict(r,l.a.dict.isOrNot)},formatUserStatus:function(e,t,r){return this.$formatDict(r,l.a.dict.userStatus)},doCurrentChange:function(e){this.currentRow=e},doConfigRole:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=e.currentRow){t.next=3;break}return e.$message.error("请选择一条记录"),t.abrupt("return");case 3:return t.next=5,b(e.currentRow.id);case 5:r=t.sent,a=r.data,e.configInitData=a,e.configForm.id=e.currentRow.id,e.configForm.userName=e.currentRow.userName,e.configForm.roles=a.userRole,e.visibleConfig.roleConfig=!0;case 12:case"end":return t.stop()}}),t)})))()},doRoleConfigClose:function(){this.$refs.configFormRef.resetFields()},doConfigSave:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v(e.configForm);case 2:e.$message.success(l.a.successSave),e.visibleConfig.roleConfig=!1;case 4:case"end":return t.stop()}}),t)})))()}}},h=F,w=(r("4db5"),r("2877")),x=Object(w["a"])(h,a,o,!1,null,"fe2af838",null);t["default"]=x.exports}}]);